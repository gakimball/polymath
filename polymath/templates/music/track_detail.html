{% extends 'base.html' %}

{% load static %}
{% load related_music %}

{% block title %}"{{ track.title }}" by {{ track.artist }}{% endblock %}

{% block content %}

{% if track.album.color %}
<style type="text/css">
	.track-detail {
		background-image: -webkit-linear-gradient(top, #ce5e5e, #{{ track.album.color }});
	}
	.track-detail .button, .track-detail .button:hover, .track-detail .play-button:after {
		color: #{{ track.album.color }};
	}
</style>
{% endif %}

<div class="track-detail">
	<div class="row">
		<div class="album-art">
			<img src="{% static track.cover %}">
		</div>
		<div class="info">
			<h1 class="title">{{ track.title }}</h1>
			<p class="artist">{{ track.artist }}</p>
			<p class="album">{{ track.album }}</p>

			<div class="audio-player">
				<a href="" class="play-button"></a>
				<div class="seeker">
					<span class="time-current">0:00</span>
					<span class="time-total">{{ track.length }}</span>
				</div>
			</div>

			{% if track.download_link %}
			<a href="{{ track.download_link.url }}" class="button">Download</a>
			{% endif %}
		</div>
	</div>
</div>

<div class="row">
	<div class="large-5 columns">
		<h2>Credits</h2>
		
		<div class="row">
			<div class="small-4 columns">
				<img src="http://placehold.it/75x75" alt="" class="portrait" style="width: 100%; border-radius: 1000px">
			</div>
			<div class="small-8 columns">
				<p>{{ track.artist }} is a project by <span>{{ track.artist.owner }}</span></p>
				<p><a href="#">See contributions Â»</a></p>
			</div>
		</div>
	</div>
	<div class="large-7 columns">
		<h2>Listen to <i>{{ track.album.title }}</i></h2>

		<div class="row">
			<div class="large-5 columns">
				<img src="http://placehold.it/100x100" alt="" style="width: 100%">
			</div>
			<div class="large-7 columns">
				<a href="#" class="music button">Play All</a>
				{% if track.album.download_link %}
					<a href="#" class="music button">Download</a>
				{% endif %}

				<ol class="album-view-tracklist">
				{% for track in track.album.track_set.all %}
					<li><a href="#">{{ track.title }} <span>{{ track.length }}</span></a></li>
				{% endfor %}
				</ol>
			</div>
		</div>
	</div>
</div>

{% endblock %}